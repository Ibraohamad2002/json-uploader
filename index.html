<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Upload Any File</title>
  </head>
  <body>
    <h2>Upload File</h2>
    <input type="file" id="fileInput" />
    <input type="text" id="uploader" placeholder="Your name or email (optional)" />
    <button id="uploadBtn">Upload</button>

    <script type="module">
      import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

      // ضع هنا بيانات مشروعك
      const SUPABASE_URL = 'https://ociaekhyqtiintzguudo.supabase.co'
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jaWFla2h5cXRpaW50emd1dWRvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzMjI0OTAsImV4cCI6MjA3Njg5ODQ5MH0.7yeAbnv2KUqaAvbyxr8mRvpG9oALl4k9mmJd3_UmwCU'

      const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)

      document.getElementById('uploadBtn').addEventListener('click', async () => {
        const f = document.getElementById('fileInput').files[0]
        const uploader = document.getElementById('uploader').value || null
        if (!f) return alert('Please select a file.')

        // مسار تخزين الملف
        const filePath = `uploads/${Date.now()}_${f.name}`

        // رفع الملف إلى Storage
        const { error: uploadErr } = await supabase.storage
          .from('uploads')
          .upload(filePath, f)

        if(uploadErr) return alert('Upload error: ' + uploadErr.message)

        alert('Upload successful!')
      })
    </script>
  </body>
</html>

